@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
  }
  body {
    @apply font-sans antialiased;
  }
}

@layer utilities {
  .safe-area-pb {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
  .safe-area-pt {
    padding-top: env(safe-area-inset-top, 0);
  }
}

.no-scrollbar {
  scrollbar-width: none;
}
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Article/prose typography (replaces @tailwindcss/typography) */
.prose-like {
  color: #411600;
  line-height: 1.75;
}
.prose-like p { margin-bottom: 1.25rem; }
.prose-like p:last-child { margin-bottom: 0; }
.prose-like h2, .prose-like h3, .prose-like h4 {
  font-family: var(--font-playfair), serif;
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 0.75rem;
  line-height: 1.3;
}
.prose-like h2:first-child, .prose-like h3:first-child, .prose-like h4:first-child { margin-top: 0; }
.prose-like h2 { font-size: 1.5rem; }
.prose-like h3 { font-size: 1.25rem; }
.prose-like h4 { font-size: 1.125rem; }
.prose-like ul, .prose-like ol { margin: 1rem 0; padding-left: 1.5rem; }
.prose-like ul { list-style-type: disc; }
.prose-like ol { list-style-type: decimal; }
.prose-like li { margin: 0.25rem 0; }
.prose-like blockquote { margin: 1.5rem 0; padding-left: 1rem; border-left: 4px solid #ef641c; font-style: italic; opacity: 0.9; }
.prose-like img { border-radius: 0.75rem; max-width: 100%; height: auto; }
.prose-like.prose-lg p { font-size: 1.125rem; }
.prose-like.prose-lg h2 { font-size: 1.75rem; }

/* Rich blog content (Tiptap + Editor.js): paragraphs, headings, lists, blockquotes */
.editorial-content > * + * {
  margin-top: 1rem;
}
.editorial-content p {
  margin-bottom: 1.25rem;
  line-height: 1.75;
}
.editorial-content p:last-child {
  margin-bottom: 0;
}
.editorial-content h2 {
  font-family: var(--font-playfair), serif;
  font-size: 1.75rem;
  font-weight: 700;
  margin-top: 2.5rem;
  margin-bottom: 0.75rem;
  line-height: 1.3;
  color: #411600;
}
.editorial-content h2:first-child {
  margin-top: 0;
}
.editorial-content h3 {
  font-family: var(--font-playfair), serif;
  font-size: 1.375rem;
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 0.5rem;
  line-height: 1.35;
  color: #411600;
}
.editorial-content h4 {
  font-family: var(--font-playfair), serif;
  font-size: 1.125rem;
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
  color: #411600;
}
.editorial-content ul,
.editorial-content ol {
  margin: 1.25rem 0;
  padding-left: 1.5rem;
}
.editorial-content ul {
  list-style-type: disc;
}
.editorial-content ol {
  list-style-type: decimal;
}
.editorial-content li {
  margin: 0.25rem 0;
  line-height: 1.6;
}
.editorial-content blockquote {
  margin: 1.5rem 0;
  padding-left: 1.25rem;
  border-left: 4px solid #ef641c;
  color: #411600;
  font-style: italic;
  opacity: 0.95;
}
.editorial-content pre {
  margin: 1.5rem 0;
  padding: 1rem 1.25rem;
  border-radius: 0.75rem;
  background: rgba(65, 22, 0, 0.06);
  border: 1px solid rgba(65, 22, 0, 0.12);
  overflow-x: auto;
  font-size: 0.9rem;
  line-height: 1.5;
}
.editorial-content code {
  font-family: ui-monospace, monospace;
  font-size: 0.9em;
}
.editorial-content pre code {
  background: none;
  padding: 0;
}

/* Editor.js list checklist (blog) */
.editorial-content .list-checklist {
  list-style: none;
  padding-left: 0;
}
.editorial-content .list-item-checked {
  text-decoration: line-through;
  opacity: 0.8;
}
.editorial-content .list-item-checked::before {
  content: "âœ“ ";
  text-decoration: none;
  opacity: 1;
}

/* Editor.js delimiter & warning (blog) */
.editorial-content .editorjs-delimiter {
  text-align: center;
  padding: 1.5rem 0;
  color: var(--color-earthy, #411600);
  opacity: 0.6;
}
.editorial-content .editorjs-warning {
  padding: 1rem 1.25rem;
  border-left: 4px solid var(--color-primary, #ef641c);
  background: rgba(239, 100, 28, 0.08);
  border-radius: 0 0.25rem 0.25rem 0;
  margin: 1rem 0;
}
.editorial-content .editorjs-warning__title {
  font-weight: 700;
  margin-bottom: 0.25rem;
}
.editorial-content .editorjs-table-wrap table th,
.editorial-content .editorjs-table-wrap table td {
  border: 1px solid rgba(65, 22, 0, 0.2);
  padding: 0.5rem 0.75rem;
  text-align: left;
}
.editorial-content .editorjs-table-wrap table th {
  background: rgba(65, 22, 0, 0.06);
  font-weight: 600;
}

/* Editor.js code block (blog) */
.editorial-content .editorjs-code-wrap {
  margin: 1.5rem 0;
}
.editorial-content .editorjs-code-block {
  @apply rounded-xl bg-earthy/5 border border-earthy/10 p-4 sm:p-6 overflow-x-auto text-sm sm:text-base;
  margin: 0;
  white-space: pre;
}
.editorial-content .editorjs-code-block code {
  background: none;
  padding: 0;
  font-family: ui-monospace, monospace;
}

/* Editor.js figures (images + embeds) */
.editorial-content .editorjs-figure {
  margin: 1.5rem 0;
}
.editorial-content .editorjs-figure img {
  @apply w-full h-auto rounded-xl;
}
.editorial-content .editorjs-figure figcaption {
  @apply mt-2 text-sm text-earthy/70 italic;
}
.editorial-content .embed iframe {
  @apply w-full aspect-video rounded-xl;
}

/* Broken / 404 images in blog */
.editorial-content .editorjs-img-failed {
  background: rgba(65, 22, 0, 0.08);
  min-height: 120px;
}

/* Print styles for the manual page */
@media print {
  body { background: white !important; }
  nav, header, aside, footer,
  .print\:hidden,
  [class*="AdminShell"] > aside,
  [class*="AdminShell"] > header { display: none !important; }
  main { margin: 0 !important; padding: 0 !important; max-width: 100% !important; }
  .prose-manual { font-size: 11pt; }
  .prose-manual img { max-height: 400px; object-fit: contain; break-inside: avoid; }
  .prose-manual h2 { break-after: avoid; }
  .prose-manual table { break-inside: avoid; }
  @page { margin: 2cm; }
}
